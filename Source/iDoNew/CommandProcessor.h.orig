#ifndef COMMAND_H_
#define COMMAND_H_

#include <iostream>
#include <string>
#include <vector>
#include <time.h>
#include <assert.h>
#include <ctype.h>

#include "DeadlinedTask.h"
#include "FloatingTask.h"
#include "TimedTask.h"
#include "Task.h"
#include "FileIO.h"

using namespace std;

static int const ASCII_VALUE_0 = 48;
const int MAX_COMMAND_SIZE = 100 , MAX_TIME_SIZE = 100, MAX_DESC_SIZE = 100, MAX_WORD_SIZE = 100, MAX_NO_ALTERNATES = 100 ;

const char startList[][MAX_COMMAND_SIZE] = {"s", "st", "sta", "star", "start","b", "be", "beg", "begi", "begin", "-1"};
const char endList[][MAX_COMMAND_SIZE] = {"e", "en", "end", "-1"};
const char timeList[][MAX_COMMAND_SIZE] = {"day","after","today", "tomorrow","before","yesterday", "next" , "am" , "pm", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday", "-1"};
const char days[][MAX_COMMAND_SIZE] = {"monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday", "-1"};

class CommandProcessor
{

private:

	FileIO fileObject ;
	//every program run need to load from respective file into this

	void initAddList() ;
	void initRemoveList() ;
	void initEditList() ;
	void initSearchList() ;
    void initUndoList() ;
    void initExitList() ;
	void initRedoList() ;
	void initAltList() ;

public:

	CommandProcessor() ;
	vector<int> intProcessor (string);
	string cmdProcessor (string, Task*& );
	void descProcessor (string, Task*& );
	tm* stringToTime (string);
	bool actualKeyWord(char userCmd[MAX_COMMAND_SIZE]);
	bool isFound(char cmd[MAX_COMMAND_SIZE], string cmdType);
	bool isFound(char cmd[MAX_COMMAND_SIZE], const char [][MAX_COMMAND_SIZE]);
	bool isStart(char singleWord[MAX_COMMAND_SIZE]);
	bool isEnd(char singleWord[MAX_COMMAND_SIZE]);
	bool isTime(char singleWord[MAX_COMMAND_SIZE]);
	bool isNumericalTime(char singleWord[MAX_COMMAND_SIZE]);
	void trim(char word[MAX_COMMAND_SIZE]);
	string removeLastSpace(string) ;
	bool isDay(int input);
	bool isMonth(int input);
	bool isYear(int input);
	bool isHour(int input);
	bool isMinute(int input);
	bool parseDateTime(char dateTime[MAX_TIME_SIZE]);
	void convertDate(char Date[MAX_TIME_SIZE]);
	void convertTime(char Date[MAX_TIME_SIZE]);
	void addZeroes(char Date[MAX_TIME_SIZE]);

	char addList[MAX_NO_ALTERNATES][MAX_COMMAND_SIZE] ;
	char removeList[MAX_NO_ALTERNATES][MAX_COMMAND_SIZE] ;
	char editList[MAX_NO_ALTERNATES][MAX_COMMAND_SIZE] ;
	char searchList[MAX_NO_ALTERNATES][MAX_COMMAND_SIZE] ;
	char undoList[MAX_NO_ALTERNATES][MAX_COMMAND_SIZE] ;
	char exitList[MAX_NO_ALTERNATES][MAX_COMMAND_SIZE] ;
	char redoList[MAX_NO_ALTERNATES][MAX_COMMAND_SIZE] ;
	char altList[MAX_NO_ALTERNATES][MAX_COMMAND_SIZE] ;
} ;


#endif